# install the cmake files

file(GLOB cmakeFiles "${CMAKE_CURRENT_SOURCE_DIR}/*.cmake")

install_files(/share/apps/cmake/modules FILES  kde3init_dummy.cpp.in  kde4init_dummy.cpp.in ${cmakeFiles} )

# the files listed here will be removed by remove_obsoleted_cmake_files.cmake, Alex
set (FILES_TO_REMOVE
   ${CMAKE_INSTALL_PREFIX}/share/apps/cmake/modules/FindKDE4.cmake
   )

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/remove_files.cmake.in ${CMAKE_CURRENT_BINARY_DIR}/remove_files.cmake)

install(SCRIPT ${CMAKE_CURRENT_BINARY_DIR}/remove_files.cmake )

#file(WRITE ${CMAKE_CURRENT_BINARY_DIR}/remove_files.cmake "#generated by cmake, dont edit\n\n")
#foreach( _current_FILE ${FILES_TO_REMOVE})
#   file(APPEND ${CMAKE_CURRENT_BINARY_DIR}/remove_files.cmake "exec_program( ${CMAKE_COMMAND} ARGS -E remove ${_current_FILE} )
#endforeach( _current_FILE)
